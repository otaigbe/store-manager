<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<title>Control page</title>
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/searchtable.css">
	<link rel="stylesheet" href="css/tab.css">
	<link rel="stylesheet" href="css/popup.css">
	<link href="css/searchicon2.css" rel="stylesheet" type="text/css">
	<script type="text/javascript" src="jwt-decode-master/build/jwt-decode.js"></script>
	<style rel="stylesheet">
		form input[type=text], input[type=date], select {
	border-radius: 5px;
	height: 30px;
	font-size: 20px;
	font-weight: 50;
	width: 500px;
}

form input[type=checkbox] {
	border-radius: 5px;
	height: 30px;
	font-size: 20px;
	font-weight: 50;
	width: 50px;
}
	#modifyMessage{
	  color: green; 
	}	


	form input[type=number] {
	border-radius: 5px;
	font-size: 20px;
	font-weight: 50;
	width: 100px;
}
	 button[type=button] {
	border-radius: 5px;
	font-size: 20px;
	font-weight: 50;
	padding: 4px 15px 4px 15px;
}
	
.pagination {
    display: inline-block;
}

.pagination a {
    color: black;
    float: left;
    padding: 8px 16px;
    text-decoration: none;
}
		
ul {
    list-style-type: none;
    margin-top: 10px;
    padding: 0;
    overflow: hidden;
    border: 1px solid #e7e7e7;
    background-color: #f3f3f3;
}

li {
    float: left;
	border: 1px solid white;
	padding: 5px;
	font-size: 20px;
	margin-top: 5px;
	color: white;
	background-color: #551263;
}

li a {
    display: block;
    color: #666;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
}
		#add_attendant{
			margin-top: 0px;
		}
		
		form {
	margin-top: 10px;
}
	</style>
</head>

<body>
	<div id="container">
		<nav class="navigation">
			<div class="tab">
				<div id="logo">Store-Manager</div>
				<a href="login.html"><button>Logout</button></a>
				<button class="tablinks" onclick="openCity(event, 'all_products')">Products</button>
				<button class="tablinks" onclick="openCity(event, 'modify_product')">modify product</button>
				<button class="tablinks" id="addProductTabButton" onclick="openCity(event, 'add_product')">add product</button>
				<button class="tablinks" onclick="openCity(event, 'add_attendant')">add attendant</button>
				<button class="tablinks" onclick="openCity(event, 'sales_record')">sales records</button>

			</div>
		</nav>
		<div id="modify_product" class="tabcontent">
			
			<center>	
				<h2>Modify Product</h2>
				<div id="modifyMessage"></div>
				<div id="productsarea">
					<div id="popupdiv">
					</div>
				</div>
			</center>

		</div>

		<div id="sales_record" class="tabcontent">
			<center>
				<h3>All sales record</h3>
				<div class="search">
					<input type="text" id="product_filter" onkeyup="filterTable()" placeholder="filter products by Description.."
					 title="Type in a name">
					<button type="submit"><i class="fa fa-search"></i></button> </div>
				<div id="sales">
				</div>
			</center>
		</div>



		<div id="add_product" class="tabcontent">
			<center>
				<h3>Add product</h3>
				<span id="message"></span>
				<form method="post" id="addProductForm" name="addProductForm" action="/api/v1/products">
					<fieldset>
						<legend>Add Product</legend>
						<table>

							<tr>
								<td>
									<label for="product_name_add"> Product Name:</label>
								</td>
								<td>
									<input type="text" name="product_desc" id="product_name_add" required />
								</td>
							</tr>
							<tr>
								<td>
									<label for="unit_price_add"> Unit Price:</label>
								</td>
								<td>
									<input type="number" name="unit_price" id="unit_price_add" onkeypress="return isNumberKey(event)" required />
								</td>
							</tr>
							<tr>
								<td>
									<label for="quantityInStock"> Quantity In Stock:</label>
								</td>
								<td>
									<input type="text" name="quantity_in_stock" id="quantity" required />
								</td>
							</tr>
							<tr>
								<td>
									<label for="quantitySupplied"> Quantity Supplied:</label>
								</td>
								<td>
									<input type="text" name="quantity_supplied" required />
								</td>
							</tr>
							<tr>
								<td>
									<label for="quantity"> Supplier:</label>
								</td>
								<td>
									<input type="text" name="supplier_name" id="supplier" required />
								</td>
							</tr>
							<tr>
								<td>
									<label for="category_add"> Category:</label>
								</td>
								<td>
									<input type="text" name="category" id="category_add" required />
								</td>
							</tr>
						</table>
						<button type="button" id="addProductSubmitButton">Create Product</button>

					</fieldset>



				</form>


			</center>

		</div>


		<div id="add_attendant" class="tabcontent">
				<center>
					<h3>Add new attendant</h3>
					<div id="status">
	
					</div>
					<form method="post" action="" id="register_attendant_form">
						<fieldset>
							<legend>Personalia:</legend>
							<table>
								<tr>
									<td>
										<label for="firstname"> Firstname:</label>
									</td>
									<td>
										<input type="text" name="name" id="firstname" required />
									</td>
								</tr>
								<tr>
									<td>
										<label for="lastname"> Lastname:</label>
									</td>
									<td>
										<input type="text" name="lastname" id="lastname" required />
									</td>
								</tr>
								<tr>
									<td>
										<label for="email"> Email:</label>
									</td>
									<td>
										<input type="email" name="email" id="email" required />
									</td>
								</tr>
								<tr>
									<td>
										<label for="password"> Password:</label>
									</td>
									<td>
										<input type="password" name="password" id="password" required />
									</td>
								</tr>
								<tr>
									<td>
										<label for="confirm_password"> Confirm Password:</label>
									</td>
									<td>
										<input type="password" name="confirmPassword" id="confirm_password" required />
									</td>
								</tr>
								<tr>
									<td>
										<label for="phone_number"> Phone Number:</label>
									</td>
									<td>
										<input type="text" name="phoneNumber" id="phone_number" required />
									</td>
								</tr>
								<tr>
									<td>
										<label for="privileges"> Admin Privileges:</label>
									</td>
									<td>
										<input type="checkbox" name="admin" id="admin_privileges" required />
									</td>
								</tr>
							</table>
							<button type="button" id="register_attendant_button">create attendant</button>
						</fieldset>
					</form>
				</center>
	
			</div>

		<div id="all_products" class="tabcontent">
			<center>
				<h2>Products</h2>
		         <div id="products"></div>
			</center>

		</div>

	</div>
	
	<script type="text/javascrit" src="js/script.js"></script>
	<script>
		function openCity(evt, cityName) {
			var i, tabcontent, tablinks;
			tabcontent = document.getElementsByClassName("tabcontent");
			for (i = 0; i < tabcontent.length; i++) {
				tabcontent[i].style.display = "none";
			}
			tablinks = document.getElementsByClassName("tablinks");
			for (i = 0; i < tablinks.length; i++) {
				tablinks[i].className = tablinks[i].className.replace(" active", "");
			}
			document.getElementById(cityName).style.display = "block";
			evt.currentTarget.className += " active";
		}

		
		function isNumberKey(evt) {
			var charCode = (evt.which) ? evt.which : event.keyCode
			if (charCode > 31 && (charCode != 46 && (charCode < 48 || charCode > 57)))
				return false;
			return true;
		}

		function chooseModifyProductTab() {
			//alert("modify Product");
			document.getElementById("modify_product").style.display = "block";
			document.getElementById("modify_product").setAttribute("class", "active");
		}

		// document.getElementById('addProductSubmitButton').addEventListener('click', handleAddProductForm);
	</script>
	<script>
			// <button class="tablinks" onclick="openCity(event, 'London')" id="defaultOpen">London</button>
		document.getElementById("addProductTabButton").click();
		</script>
	<script type="text/javascript" src="js/form_modal.js"></script>
	<script type="text/javascript" src="js/attendants.js"></script>
	<script type="text/javascript" src="js/createProduct.js"></script>
	<script type="text/javascript" src="js/modifyProduct.js"></script>
	<script type="text/javascript" src="js/sales.js"></script>
	<script type="text/javascript" src="js/allProducts.js"></script>

	<script>
	document.getElementById('register_attendant_button').addEventListener('click', addAttendant);
	document.getElementById('addProductSubmitButton').addEventListener('click', addProduct);
	getAllProducts();
	</script>
	<script>
	getAllSalesRecordsWithDetails();
	</script>
	<script>
			getAllProductsWithDetails();
			</script>
</body>

</html>
